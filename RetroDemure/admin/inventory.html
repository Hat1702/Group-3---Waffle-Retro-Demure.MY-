<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Inventory Management</title>

    <!-- Montserrat Font -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="admin1.css">
</head>

<body>
    <div class="grid-container">

        <!-- Header -->
        <header class="header">
            <h4>RetroDemure.My</h4>
            <div class="header-right">
                <span class="material-icons-outlined">account_circle</span>
            </div>
        </header>
        <!-- End Header -->

        <!-- Sidebar -->
        <aside id="sidebar">
            <div class="sidebar-title">
                <div class="sidebar-brand">
                    <span class="material-icons-outlined">inventory</span> RetroDemure's Admin Panel
                </div>
                <span class="material-icons-outlined" onclick="closeSidebar()">close</span>
            </div>

            <ul class="sidebar-list">
                <li class="sidebar-list-item">
                    <a href="admin1.html">
                        <span class="material-icons-outlined">dashboard</span> Dashboard
                    </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="product.html">
                        <span class="material-icons-outlined">inventory_2</span> Products
                    </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="inventory.html">
                        <span class="material-icons-outlined">fact_check</span> Inventory
                    </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="vieworder.html">
                        <span class="material-icons-outlined">shopping_cart</span> View Orders
                    </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="review.html">
                        <span class="material-icons-outlined">poll</span> Reviews
                    </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="manageuser.html">
                        <span class="material-icons-outlined">settings</span> Manage Users
                    </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="exportdata.html">
                      <span class="material-icons-outlined">dashboard</span> Sales Overview
                    </a>
                  </li>
            </ul>
        </aside>
        <!-- End Sidebar -->

        <!-- Main Content -->
        <main class="main-container">
            <div class="main-title">
                <p class="font-weight-bold">Inventory</p>
            </div>

            <!-- Inventory Table -->
            <div class="inventory-section">
                <table class="inventory-table">
                    <thead>
                        <tr>
                            <th>Product ID</th>
                            <th>Product Name</th>
                            <th>Description</th>
                            <th>Stock</th>
                            <th>Price</th>
                            <th>Brand</th>
                            <th>Image</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>001</td>
                            <td><input type="text" class="product-name" value="Vintage T-Shirt" disabled /></td>
                            <td><input type="text" class="product-description" value="T-Shirts" disabled /></td>
                            <td><input type="number" class="product-stock" value="50" disabled /></td>
                            <td><input type="text" class="product-price" value="$20.00" disabled /></td>
                            <td><input type="text" class="product-brand" value="Nike" disabled /></td>
                            <td>
                                <img src="image1.jpg" alt="Product Image" class="product-image-display" />
                                <!-- Initially hidden file input -->
                                <input type="file" class="product-image" onchange="previewImage(event, this)" style="display: none;" />
                            </td>
                            <td>
                                <button class="action-btn edit" onclick="editRow(this)">Edit</button>
                                <button class="action-btn delete" onclick="deleteRow(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>002</td>
                            <td><input type="text" class="product-name" value="Retro Jeans" disabled /></td>
                            <td><input type="text" class="product-description" value="Jeans" disabled /></td>
                            <td><input type="number" class="product-stock" value="35" disabled /></td>
                            <td><input type="text" class="product-price" value="$45.00" disabled /></td>
                            <td><input type="text" class="product-brand" value="Nike" disabled /></td>
                            <td>
                                <img src="image2.jpg" alt="Product Image" class="product-image-display" />
                                <!-- Initially hidden file input -->
                                <input type="file" class="product-image" onchange="previewImage(event, this)" style="display: none;" />
                            </td>
                            <td>
                                <button class="action-btn edit" onclick="editRow(this)">Edit</button>
                                <button class="action-btn delete" onclick="deleteRow(this)">Delete</button>
                            </td>
                        </tr>
                        <!-- Add more rows as needed -->
                    </tbody>
                </table>
            </div>

        </main>
        <!-- End Main Content -->

    </div>

    <!-- Sidebar Toggle Script -->
    <script>
        function closeSidebar() {
            document.getElementById('sidebar').style.left = '-250px';
        }

        // Function to delete a row
        function deleteRow(button) {
            var row = button.closest('tr');
            row.remove();
        }

        // Function to edit or save a row
        function editRow(button) {
            var row = button.closest('tr');
            var productName = row.querySelector('.product-name');
            var productDescription = row.querySelector('.product-description');
            var productStock = row.querySelector('.product-stock');
            var productPrice = row.querySelector('.product-price');
            var productBrand = row.querySelector('.product-brand');
            var productImage = row.querySelector('.product-image');
            var fileInput = row.querySelector('.product-image');
            
            // Check if the button is in edit mode (showing 'Edit')
            if (button.innerText === "Edit") {
                // Enable inputs for editing
                productName.disabled = false;
                productDescription.disabled = false;
                productStock.disabled = false;
                productPrice.disabled = false;
                productBrand.disabled = false;

                // Show the file input for image change
                fileInput.style.display = 'inline-block'; // Show the file input

                // Change button text to 'Save'
                button.innerText = "Save";
            } else {
                // Save the changes, then disable the inputs again
                productName.disabled = true;
                productDescription.disabled = true;
                productStock.disabled = true;
                productPrice.disabled = true;
                productBrand.disabled = true;

                // Hide the file input again after saving
                fileInput.style.display = 'none';

                // Change button text back to 'Edit'
                button.innerText = "Edit";

                // Optionally, you can handle saving the data here (e.g., via AJAX or form submission)
                alert('Product information saved!');
            }
        }

        // Function to preview the selected image
        function previewImage(event, input) {
            var file = input.files[0];
            var reader = new FileReader();
            reader.onload = function(e) {
                var imgElement = input.closest('td').querySelector('.product-image-display');
                imgElement.src = e.target.result; // Set the image source to the uploaded file
            };
            reader.readAsDataURL(file); // Read the file as a data URL
        }
    </script>
</body>

</html>
