<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RetroDemure</title>
    <link rel="icon" type="image/x-icon" href="./img/icon1.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="pfp.css">
</head>
<body>
    <section id="header">
        <a href="#"><img src="img/logo/logov2.png" style="width: 80px; height: 80px;" class="logo" alt=""></a>
        <div>
            <ul id="navbar">
                <li><a class="active" href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="login.html">Login</a></li>
                <li id="lg-bag"><a href="cart.html"><i class='bx bx-shopping-bag'></i></a></li>
            </ul>
        </div>
        <div id="mobile">
            <a href="cart.html"><i class='bx bx-shopping-bag'></i></a>
            <i id="bar" class='bx bx-menu'></i>
        </div>
    </section>

    <section id="user-info" class="section-p1">
        <h2>User Information</h2>
        <div class="user-details">
            <div class="user-detail">
                <h4>Username:</h4>
                <input type="text" id="username" value="John Doe" disabled>
            </div>
            <div class="user-detail">
                <h4>Email:</h4>
                <input type="email" id="email" value="johndoe@example.com" disabled>
            </div>

            <div class="user-detail">
                <h4>Password:</h4>
                <div class="password-container">
                    <input type="password" id="password" value="password123" disabled>
                    <i class="fa fa-eye" id="togglePassword" style="display: flex;"></i> <!-- Initially hidden -->
                </div>
            </div>
            
            <!-- <div class="user-detail">
                <h4>Password:</h4>
                <input type="password" id="password" value="password123" disabled>
            </div> -->


            <!-- <div class="user-detail">
                <h4>Birth Date:</h4>
                <input type="date" id="birthDate" value="2023-01-15" disabled>
            </div> -->
            <div class="user-detail">
                <h4>Birth Date:</h4>
                <input type="date" id="birthDate" value="2000-01-15" disabled onchange="checkAge()">
            </div>
            <div class="user-detail">
                <h4>Address:</h4>
                <input type="text" id="address" value="123 Main Street, Kuala Lumpur, Malaysia" disabled>
            </div>
            <div class="user-detail">
                <h4>Zip Code:</h4>
                <input type="text" id="zipCode" value="12345" disabled>
            </div>
            <div class="user-detail">
                <h4>City:</h4>
                <input type="text" id="city" value="Kuala Lumpur" disabled>
            </div>
            <div class="user-detail">
                <h4>Country:</h4>
                <input type="text" id="country" value="Malaysia" disabled>
            </div>
            <div class="user-detail">
                <h4>Phone:</h4>
                <input type="tel" id="phone" value="+60 123 456 789" disabled>
            </div>
        </div>
        <div class="btn-container">
            <button class="btn edit" onclick="toggleEdit()">Edit</button>
            <button class="btn save" onclick="saveChanges()">Save</button>
        </div>
    </section>

    <script>
        
// Set the maximum date for birthDate input to ensure users are at least 16 years old
// function setMinAge() {
//         const today = new Date();
//         const year = today.getFullYear() - 16; // Calculate the year 16 years ago
//         const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-indexed
//         const day = String(today.getDate()).padStart(2, '0');
//         const maxDate = `${year}-${month}-${day}`;

//         document.getElementById('birthDate').setAttribute('max', maxDate);
//     }

//     // Call the function to set the max date when the page loads
//     window.onload = setMinAge;

//         function checkAge() {
//         const birthDate = new Date(document.getElementById('birthDate').value);
//         const today = new Date();
//         let age = today.getFullYear() - birthDate.getFullYear();
//         const monthDifference = today.getMonth() - birthDate.getMonth();
//         const dayDifference = today.getDate() - birthDate.getDate();
        
//         // Adjust age if today's month/day is before birth month/day
//         if (monthDifference < 0 || (monthDifference === 0 && dayDifference < 0)) {
//             age--;
//         }

//         if (age < 16) {
//             alert("You must be at least 16 years old to use this feature.");
//             document.querySelector('.edit').disabled = true; // Disable the "Edit" button if under 16
//         } else {
//             document.querySelector('.edit').disabled = false; // Enable the "Edit" button if 16+
//         }
//     }
        
//         function toggleEdit() {
//             const inputs = document.querySelectorAll('.user-detail input');
//             inputs.forEach(input => input.disabled = false); // Enable inputs
//             document.querySelector('.edit').style.display = 'none'; // Hide "Edit" button
//             document.querySelector('.save').style.display = 'inline-block'; // Show "Save" button
//         }

//         function saveChanges() {
//             const inputs = document.querySelectorAll('.user-detail input');
//             inputs.forEach(input => input.disabled = true); // Disable inputs
//             document.querySelector('.edit').style.display = 'inline-block'; // Show "Edit" button
//             document.querySelector('.save').style.display = 'none'; // Hide "Save" button

//             // You can add additional code here to save the data, e.g., to a server.

//             alert("Changes saved!"); // Display success message
//         }
        
//         // Add toggle functionality to the eye icon
// document.getElementById('togglePassword').addEventListener('click', function () {
//     const passwordField = document.getElementById('password');
//     const icon = this;

//     // Toggle password visibility and change icon
//     if (passwordField.type === 'password') {
//         passwordField.type = 'text'; // Show password
//         icon.classList.remove('fa-eye');
//         icon.classList.add('fa-eye-slash');
//     } else {
//         passwordField.type = 'password'; // Hide password
//         icon.classList.remove('fa-eye-slash');
//         icon.classList.add('fa-eye');
//     }
// });
        // Set the maximum date for birthDate input to ensure users are at least 16 years old
function setMinAge() {
    const today = new Date();
    const year = today.getFullYear() - 16; // Calculate the year 16 years ago
    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-indexed
    const day = String(today.getDate()).padStart(2, '0');
    const maxDate = `${year}-${month}-${day}`;

    document.getElementById('birthDate').setAttribute('max', maxDate);
}

// Call the function to set the max date when the page loads
window.onload = setMinAge;

function checkAge() {
    const birthDate = new Date(document.getElementById('birthDate').value);
    const today = new Date();
    let age = today.getFullYear() - birthDate.getFullYear();
    const monthDifference = today.getMonth() - birthDate.getMonth();
    const dayDifference = today.getDate() - birthDate.getDate();
    
    // Adjust age if today's month/day is before birth month/day
    if (monthDifference < 0 || (monthDifference === 0 && dayDifference < 0)) {
        age--;
    }

    if (age < 16) {
        alert("You must be at least 16 years old to use this feature.");
        document.querySelector('.edit').disabled = true; // Disable the "Edit" button if under 16
    } else {
        document.querySelector('.edit').disabled = false; // Enable the "Edit" button if 16+
    }
}

function toggleEdit() {
    const inputs = document.querySelectorAll('.user-detail input');
    const togglePasswordIcon = document.getElementById('togglePassword'); // Get the eye icon
    inputs.forEach(input => input.disabled = false); // Enable inputs

    // Show the eye icon next to password when in edit mode
    document.querySelector('.edit').style.display = 'none'; // Hide "Edit" button
    document.querySelector('.save').style.display = 'inline-block'; // Show "Save" button
    togglePasswordIcon.style.display = 'inline-block'; // Show the eye icon
}

function saveChanges() {
    const inputs = document.querySelectorAll('.user-detail input');
    inputs.forEach(input => input.disabled = true); // Disable inputs
    document.querySelector('.edit').style.display = 'inline-block'; // Show "Edit" button
    document.querySelector('.save').style.display = 'none'; // Hide "Save" button

    // You can add additional code here to save the data, e.g., to a server.

    alert("Changes saved!"); // Display success message
}

// Add toggle functionality to the eye icon
document.getElementById('togglePassword').addEventListener('click', function () {
    const passwordField = document.getElementById('password');
    const icon = this;

    // Toggle password visibility and change icon
    if (passwordField.type === 'password') {
        passwordField.type = 'text'; // Show password
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
    } else {
        passwordField.type = 'password'; // Hide password
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
    }
});


    </script>
</body>
</html>
